{"version":3,"sources":["components/SubmitButton.js","components/RegisterForm.js","components/PostForm.js","App.js","index.js"],"names":["SubmitButton","className","type","this","props","disabled","text","React","Component","RegisterForm","onChange","e","setState","target","name","value","onSubmit","preventDefault","postData","JSON","stringify","state","fetch","method","body","headers","then","response","json","data","console","log","ErrorsList","errors","map","error","rootElement","document","getElementById","ReactDOM","render","catch","username","password","password2","placeholder","id","PostForm","useState","image","setImage","isUploaded","setIsUploaded","caption","setCaption","form_data","FormData","append","src","alt","onClick","draggable","htmlFor","style","width","accept","files","reader","FileReader","onload","result","readAsDataURL","App","path","component","StrictMode"],"mappings":"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","file":"static/js/main.dd4cea8d.chunk.js","sourcesContent":["import React from 'react'\n\nclass SubmitButton extends React.Component {\n\n    render() {\n        return(\n            <div className=\"submit-button\">\n                <button\n                    className='btn'\n                    type={this.props.type}\n                    disabled={this.props.disabled}>\n                    {this.props.text}\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default SubmitButton;","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport SubmitButton from \"./SubmitButton\";\n\nclass RegisterForm extends React.Component {\n    constructor(props) {\n        super(props);\n        // By using states we can associate the name property of the <input> with the state variable and we can initialize values\n        this.state = ({username: '', password: '', password2: ''})\n    }\n\n    onChange = (e) => {\n        // If using states to handle, this line will index the state variable with the same name as the calling-event's\n        // (the calling input field's) name property and update the state's value to the <input>'s new value\n        this.setState({[e.target.name]: e.target.value })\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n\n        // Since using states means `this.state` holds the current state of each input field, we can simply convert to JSON and its ready for POST\n        const postData = JSON.stringify(this.state);\n\n        /*\n        // If using the FormData instead, it will only take what is currently the value of the <input>, and not its state\n        const formData = new FormData(e.target);\n        // You can see here that this successfully gets/prints the JSON formatted form. However, if you were to try to\n        // set the state in the constructor initially and submit the form before writing any values in the fields,\n        // the output will be all empty fields (ex: {\"username\": \"\",....}) although username's state is 'some initial value'\n        console.log(JSON.stringify(Object.fromEntries(formData)));\n        */\n\n        fetch('/api/register/', {\n            method: 'POST',\n            body: postData,\n            headers: {'content-type': 'application/json'}\n        })\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                const ErrorsList = () => (\n                    <ul>{data.errors.map(error => <li key={error}> {error} </li>)}</ul>\n                );\n                const rootElement = document.getElementById(\"post-response-errors\");\n                ReactDOM.render(<ErrorsList />, rootElement);\n            })\n            .catch(error => console.log(error))\n    }\n\n    render() {\n        return(\n            // The name property of every field needs to be the same as the state so that the relation is established\n            <form\n                onSubmit={this.onSubmit}\n                className=\"register-form input\">\n                Sign up\n                <input\n                    name='username'\n                    type='text'\n                    placeholder='Username'\n                    onChange={this.onChange}\n                />\n                <input\n                    name='password'\n                    type='password'\n                    placeholder='Password'\n                    onChange={this.onChange}\n                />\n                <input\n                    name='password2'\n                    type='password'\n                    placeholder='Repeat Password'\n                    onChange={this.onChange}\n                />\n                <SubmitButton\n                    type='submit'\n                    text='Register'\n                />\n                <div id=\"post-response-errors\"/>\n            </form>\n        )\n    }\n}\n\nexport default RegisterForm;","import React, {useState} from 'react'\nimport ReactDOM from \"react-dom\";\n\nfunction PostForm() {\n    const [image, setImage] = useState(\"\");\n    const [isUploaded, setIsUploaded] = useState(false);\n    const [caption, setCaption] = useState(\"\");\n\n    function handleImageChange(e) {\n        if (e.target.files && e.target.files[0]) {\n            let reader = new FileReader();\n\n            reader.onload = function (e) {\n                setImage(e.target.result);\n                setIsUploaded(true);\n            };\n            reader.readAsDataURL(e.target.files[0]);\n        }\n    }\n\n    function handleCaptionChange(e) {\n        setCaption(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        console.log(image);\n        console.log(caption);\n        let form_data = new FormData();\n        form_data.append('image', image);\n        form_data.append('caption', caption);\n\n        fetch(\n            '/api/post/', {\n                method: 'POST',\n                body: JSON.stringify(form_data),\n                headers: {'content-type': 'application/json'}\n                //headers: {'content-type': 'multipart/form-data'}\n            }\n        )\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                const ErrorsList = () => (\n                    <ul>{data.errors.map(error => <li key={error}> {error} </li>)}</ul>\n                );\n                const rootElement = document.getElementById(\"post-response-errors\");\n                ReactDOM.render(<ErrorsList/>, rootElement);\n            })\n            .catch(error => console.log(error))\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className={'post-form-main'}>\n            <h3>Make a Post</h3>\n            <div className={'box-upload'}>\n                {!isUploaded ?\n                    (<>\n                        <label className={'img-label'} htmlFor=\"upload-input\">\n                            <img style={{width: 100}} draggable={false}\n                                 src='https://wayou.gallerycdn.vsassets.io/extensions/wayou/vscode-icons-mac/7.25.3/1564717968649/Microsoft.VisualStudio.Services.Icons.Default'\n                                 alt=\"Folder Icon\"/>\n                            <p id={'sub'}>\n                                Click to upload image\n                            </p>\n                        </label>\n                        <input\n                            className={'img-input'}\n                            id=\"upload-input\"\n                            type=\"file\"\n                            accept=\".jpg, .img, .png\"\n                            onChange={handleImageChange}\n                        />\n                    </>) : (\n                        <div className={'image-preview'}>\n                            <img className='close-icon'\n                                 src='https://cdn.iconscout.com/icon/free/png-256/close-1781207-1518581.png'\n                                 alt=\"Close Icon\"\n                                 onClick={() => {\n                                     setIsUploaded(false);\n                                     setImage(null);\n                                 }}\n                            />\n                            <img id=\"uploaded-image\"\n                                 src={image}\n                                 alt=\"Feed Post\"\n                                 draggable={false}\n                            />\n                        </div>\n                    )\n                }\n            </div>\n            <div className={'text-area'}>\n                <textarea value={caption} onChange={handleCaptionChange} type=\"text\" name=\"caption\"\n                       className={'description-input'} placeholder='Description'/>\n            </div>\n            <input className={'post-btn'} type=\"submit\" value=\"Post\"/>\n            <div id={\"post-response-errors\"}/>\n        </form>\n    )\n}\n\nexport default PostForm","import React from 'react';\nimport './App.css';\nimport RegisterForm from \"./components/RegisterForm\"\nimport PostForm from './components/PostForm'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\n\nfunction App() {\n    return (\n        <Router>\n            <div className=\"app\">\n                <div className=\"container\">\n                    <Switch>\n                        <Route path=\"/post\" component={PostForm} />\n                        <Route path=\"/register\" component={RegisterForm} />\n                    </Switch>\n                </div>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}